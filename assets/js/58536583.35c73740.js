"use strict";(globalThis.webpackChunkfrontend_docu=globalThis.webpackChunkfrontend_docu||[]).push([[5816],{8406(n,e,i){i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module-1-robotic-nervous-system/chapter-5-urdf-modeling/exercises/index","title":"Chapter 5: Hands-on Exercise","description":"Exercise: URDF Modeling for Humanoid Robots","source":"@site/docs/module-1-robotic-nervous-system/chapter-5-urdf-modeling/exercises/index.md","sourceDirName":"module-1-robotic-nervous-system/chapter-5-urdf-modeling/exercises","slug":"/module-1-robotic-nervous-system/chapter-5-urdf-modeling/exercises/","permalink":"/ai-book/docs/module-1-robotic-nervous-system/chapter-5-urdf-modeling/exercises/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-robotic-nervous-system/chapter-5-urdf-modeling/exercises/index.md","tags":[],"version":"current","frontMatter":{}}');var l=i(4848),t=i(8453);const o={},a="Chapter 5: Hands-on Exercise",s={},c=[{value:"Exercise: URDF Modeling for Humanoid Robots",id:"exercise-urdf-modeling-for-humanoid-robots",level:2},{value:"Objective",id:"objective",level:3},{value:"Part 1: URDF Validation and Analysis",id:"part-1-urdf-validation-and-analysis",level:3},{value:"Part 2: Create a Simplified Humanoid URDF",id:"part-2-create-a-simplified-humanoid-urdf",level:3},{value:"Part 3: URDF Analysis Exercise",id:"part-3-urdf-analysis-exercise",level:3},{value:"Part 4: URDF Validation and Testing",id:"part-4-urdf-validation-and-testing",level:3},{value:"Part 5: Xacro Conversion Exercise",id:"part-5-xacro-conversion-exercise",level:3},{value:"Part 6: Inverse Kinematics Simulation",id:"part-6-inverse-kinematics-simulation",level:3},{value:"Discussion Questions",id:"discussion-questions",level:3},{value:"Extension Activities",id:"extension-activities",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"chapter-5-hands-on-exercise",children:"Chapter 5: Hands-on Exercise"})}),"\n",(0,l.jsx)(e.h2,{id:"exercise-urdf-modeling-for-humanoid-robots",children:"Exercise: URDF Modeling for Humanoid Robots"}),"\n",(0,l.jsx)(e.h3,{id:"objective",children:"Objective"}),"\n",(0,l.jsx)(e.p,{children:"Create and validate a complete URDF model for a humanoid robot, focusing on proper joint definitions and kinematic chains for bipedal movement."}),"\n",(0,l.jsx)(e.h3,{id:"part-1-urdf-validation-and-analysis",children:"Part 1: URDF Validation and Analysis"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"First, let's validate the provided humanoid URDF model:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"check_urdf ~/path/to/your/humanoid.urdf\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Generate a kinematic tree visualization:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"urdf_to_graphiz ~/path/to/your/humanoid.urdf\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Examine the generated PDF files to understand the robot's structure."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"part-2-create-a-simplified-humanoid-urdf",children:"Part 2: Create a Simplified Humanoid URDF"}),"\n",(0,l.jsxs)(e.p,{children:["Create a new file ",(0,l.jsx)(e.code,{children:"simple_humanoid.urdf"})," with the following structure:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n\n  \x3c!-- Materials --\x3e\n  <material name="blue">\n    <color rgba="0.0 0.0 0.8 1.0"/>\n  </material>\n  <material name="green">\n    <color rgba="0.0 0.8 0.0 1.0"/>\n  </material>\n  <material name="red">\n    <color rgba="0.8 0.0 0.0 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="10.0"/>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <inertia ixx="0.3" ixy="0.0" ixz="0.0" iyy="0.3" iyz="0.0" izz="0.1"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="head_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <origin xyz="0.0 0.0 0.4" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Left Hip --\x3e\n  <link name="left_hip">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.002"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_hip_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_hip"/>\n    <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>  \x3c!-- Yaw --\x3e\n    <limit lower="-0.5" upper="0.5" effort="200" velocity="1"/>\n  </joint>\n\n  \x3c!-- Left Upper Leg --\x3e\n  <link name="left_upper_leg">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_knee_joint" type="revolute">\n    <parent link="left_hip"/>\n    <child link="left_upper_leg"/>\n    <origin xyz="0.0 0.0 -0.1" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch --\x3e\n    <limit lower="0" upper="1.57" effort="300" velocity="1"/>\n  </joint>\n\n  \x3c!-- Left Lower Leg --\x3e\n  <link name="left_lower_leg">\n    <inertial>\n      <mass value="2.5"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.015" ixy="0.0" ixz="0.0" iyy="0.015" iyz="0.0" izz="0.004"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.045"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.045"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_ankle_joint" type="revolute">\n    <parent link="left_upper_leg"/>\n    <child link="left_lower_leg"/>\n    <origin xyz="0.0 0.0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>  \x3c!-- Yaw --\x3e\n    <limit lower="-0.3" upper="0.3" effort="150" velocity="1"/>\n  </joint>\n\n  \x3c!-- Left Foot --\x3e\n  <link name="left_foot">\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.003" iyz="0.0" izz="0.004"/>\n    </inertial>\n    <visual>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="left_foot_joint" type="fixed">\n    <parent link="left_lower_leg"/>\n    <child link="left_foot"/>\n    <origin xyz="0.0 0.0 -0.3" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Right Leg (symmetric to left) --\x3e\n  <link name="right_hip">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.002"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.1" radius="0.06"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_hip_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="right_hip"/>\n    <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.5" upper="0.5" effort="200" velocity="1"/>\n  </joint>\n\n  <link name="right_upper_leg">\n    <inertial>\n      <mass value="3.0"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_knee_joint" type="revolute">\n    <parent link="right_hip"/>\n    <child link="right_upper_leg"/>\n    <origin xyz="0.0 0.0 -0.1" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="1.57" effort="300" velocity="1"/>\n  </joint>\n\n  <link name="right_lower_leg">\n    <inertial>\n      <mass value="2.5"/>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <inertia ixx="0.015" ixy="0.0" ixz="0.0" iyy="0.015" iyz="0.0" izz="0.004"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.045"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n      <geometry>\n        <cylinder length="0.3" radius="0.045"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_ankle_joint" type="revolute">\n    <parent link="right_upper_leg"/>\n    <child link="right_lower_leg"/>\n    <origin xyz="0.0 0.0 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.3" upper="0.3" effort="150" velocity="1"/>\n  </joint>\n\n  <link name="right_foot">\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.003" iyz="0.0" izz="0.004"/>\n    </inertial>\n    <visual>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n      <material name="green"/>\n    </visual>\n    <collision>\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.15 0.08 0.05"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="right_foot_joint" type="fixed">\n    <parent link="right_lower_leg"/>\n    <child link="right_foot"/>\n    <origin xyz="0.0 0.0 -0.3" rpy="0 0 0"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"part-3-urdf-analysis-exercise",children:"Part 3: URDF Analysis Exercise"}),"\n",(0,l.jsx)(e.p,{children:"Analyze the URDF model you created by answering these questions:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Kinematic Chain Analysis"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Trace the kinematic chain from ",(0,l.jsx)(e.code,{children:"base_link"})," to ",(0,l.jsx)(e.code,{children:"left_foot"})]}),"\n",(0,l.jsx)(e.li,{children:"Identify the degrees of freedom for each joint"}),"\n",(0,l.jsx)(e.li,{children:"Calculate the total degrees of freedom in the left leg"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Joint Limitations"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Why are the knee joint limits set to only allow positive angles?"}),"\n",(0,l.jsx)(e.li,{children:"What would happen if you set the ankle joint limits to \xb11.57 radians?"}),"\n",(0,l.jsx)(e.li,{children:"How do the joint limits affect the robot's mobility?"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Inertial Properties"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Why do the upper leg links have higher mass values than the lower leg links?"}),"\n",(0,l.jsx)(e.li,{children:"How do the inertia values relate to the mass and geometry of each link?"}),"\n",(0,l.jsx)(e.li,{children:"What would happen if all inertia values were set to zero?"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"part-4-urdf-validation-and-testing",children:"Part 4: URDF Validation and Testing"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Validate your URDF file:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"check_urdf simple_humanoid.urdf\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Generate the kinematic tree:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"urdf_to_graphiz simple_humanoid.urdf\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Load the URDF in RViz for visualization:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Terminal 1\nros2 run robot_state_publisher robot_state_publisher --ros-args -p robot_description:=$(cat simple_humanoid.urdf)\n\n# Terminal 2\nros2 run rviz2 rviz2\n# In RViz: Add RobotModel display and set Topic to your URDF\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"part-5-xacro-conversion-exercise",children:"Part 5: Xacro Conversion Exercise"}),"\n",(0,l.jsx)(e.p,{children:"Convert the URDF to Xacro format to demonstrate parametric modeling:"}),"\n",(0,l.jsxs)(e.p,{children:["Create ",(0,l.jsx)(e.code,{children:"simple_humanoid.xacro"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="simple_humanoid_xacro">\n\n  \x3c!-- Properties --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931"/>\n  <xacro:property name="torso_mass" value="10.0"/>\n  <xacro:property name="leg_mass" value="5.0"/>\n  <xacro:property name="hip_radius" value="0.06"/>\n  <xacro:property name="leg_radius" value="0.05"/>\n  <xacro:property name="leg_length" value="0.3"/>\n\n  \x3c!-- Materials --\x3e\n  <material name="blue">\n    <color rgba="0.0 0.0 0.8 1.0"/>\n  </material>\n  <material name="green">\n    <color rgba="0.0 8.0 0.0 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Macro for leg definition --\x3e\n  <xacro:macro name="leg" params="side prefix *origin">\n    <joint name="${prefix}_hip_joint" type="revolute">\n      <xacro:insert_block name="origin"/>\n      <parent link="base_link"/>\n      <child link="${prefix}_hip"/>\n      <axis xyz="0 0 1"/>\n      <limit lower="-0.5" upper="0.5" effort="200" velocity="1"/>\n    </joint>\n\n    <link name="${prefix}_hip">\n      <inertial>\n        <mass value="2.0"/>\n        <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n        <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.002"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="0.1" radius="${hip_radius}"/>\n        </geometry>\n        <material name="${side == \'left\' and \'blue\' or \'green\'}"/>\n      </visual>\n      <collision>\n        <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="0.1" radius="${hip_radius}"/>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="${prefix}_knee_joint" type="revolute">\n      <parent link="${prefix}_hip"/>\n      <child link="${prefix}_upper_leg"/>\n      <origin xyz="0.0 0.0 -0.1" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="0" upper="1.57" effort="300" velocity="1"/>\n    </joint>\n\n    <link name="${prefix}_upper_leg">\n      <inertial>\n        <mass value="3.0"/>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_length}" radius="${leg_radius}"/>\n        </geometry>\n        <material name="${side == \'left\' and \'blue\' or \'green\'}"/>\n      </visual>\n      <collision>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_length}" radius="${leg_radius}"/>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="${prefix}_ankle_joint" type="revolute">\n      <parent link="${prefix}_upper_leg"/>\n      <child link="${prefix}_lower_leg"/>\n      <origin xyz="0.0 0.0 -${leg_length}" rpy="0 0 0"/>\n      <axis xyz="0 0 1"/>\n      <limit lower="-0.3" upper="0.3" effort="150" velocity="1"/>\n    </joint>\n\n    <link name="${prefix}_lower_leg">\n      <inertial>\n        <mass value="2.5"/>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <inertia ixx="0.015" ixy="0.0" ixz="0.0" iyy="0.015" iyz="0.0" izz="0.004"/>\n      </inertial>\n      <visual>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_length}" radius="${leg_radius * 0.9}"/>\n        </geometry>\n        <material name="${side == \'left\' and \'blue\' or \'green\'}"/>\n      </visual>\n      <collision>\n        <origin xyz="0 0 -0.15" rpy="0 0 0"/>\n        <geometry>\n          <cylinder length="${leg_length}" radius="${leg_radius * 0.9}"/>\n        </geometry>\n      </collision>\n    </link>\n\n    <joint name="${prefix}_foot_joint" type="fixed">\n      <parent link="${prefix}_lower_leg"/>\n      <child link="${prefix}_foot"/>\n      <origin xyz="0.0 0.0 -${leg_length}" rpy="0 0 0"/>\n    </joint>\n\n    <link name="${prefix}_foot">\n      <inertial>\n        <mass value="1.0"/>\n        <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n        <inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.003" iyz="0.0" izz="0.004"/>\n      </inertial>\n      <visual>\n        <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n        <geometry>\n          <box size="0.15 0.08 0.05"/>\n        </geometry>\n        <material name="${side == \'left\' and \'blue\' or \'green\'}"/>\n      </visual>\n      <collision>\n        <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n        <geometry>\n          <box size="0.15 0.08 0.05"/>\n        </geometry>\n      </collision>\n    </link>\n  </xacro:macro>\n\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <inertial>\n      <mass value="${torso_mass}"/>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <inertia ixx="0.3" ixy="0.0" ixz="0.0" iyy="0.3" iyz="0.0" izz="0.1"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <joint name="head_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <origin xyz="0.0 0.0 0.4" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Use the macro to create both legs --\x3e\n  <xacro:leg side="left" prefix="left">\n    <origin xyz="0.0 -0.05 0.0" rpy="0 0 0"/>\n  </xacro:leg>\n\n  <xacro:leg side="right" prefix="right">\n    <origin xyz="0.0 0.05 0.0" rpy="0 0 0"/>\n  </xacro:leg>\n\n</robot>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"part-6-inverse-kinematics-simulation",children:"Part 6: Inverse Kinematics Simulation"}),"\n",(0,l.jsx)(e.p,{children:"Create a simple Python script to understand the relationship between joint angles and end-effector position:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef forward_kinematics(hip_angle, knee_angle, upper_leg_length=0.3, lower_leg_length=0.3):\n    """\n    Calculate foot position given hip and knee angles\n    """\n    # Calculate position of knee relative to hip\n    knee_x = upper_leg_length * np.sin(hip_angle)\n    knee_y = -upper_leg_length * np.cos(hip_angle)\n\n    # Calculate position of foot relative to hip\n    total_angle = hip_angle + knee_angle\n    foot_x = knee_x + lower_leg_length * np.sin(total_angle)\n    foot_y = knee_y - lower_leg_length * np.cos(total_angle)\n\n    return foot_x, foot_y\n\ndef inverse_kinematics(foot_x, foot_y, upper_leg_length=0.3, lower_leg_length=0.3):\n    """\n    Calculate hip and knee angles to reach desired foot position\n    """\n    # Distance from hip to foot\n    distance = np.sqrt(foot_x**2 + foot_y**2)\n\n    # Check if position is reachable\n    max_reach = upper_leg_length + lower_leg_length\n    min_reach = abs(upper_leg_length - lower_leg_length)\n\n    if distance > max_reach or distance < min_reach:\n        print(f"Position ({foot_x:.2f}, {foot_y:.2f}) is not reachable!")\n        return None, None\n\n    # Calculate knee angle using law of cosines\n    cos_knee_angle = (upper_leg_length**2 + lower_leg_length**2 - distance**2) / (2 * upper_leg_length * lower_leg_length)\n    knee_angle = np.pi - np.arccos(np.clip(cos_knee_angle, -1, 1))\n\n    # Calculate hip angle\n    cos_hip_angle = (upper_leg_length**2 + distance**2 - lower_leg_length**2) / (2 * upper_leg_length * distance)\n    alpha = np.arccos(np.clip(cos_hip_angle, -1, 1))\n    beta = np.arctan2(foot_y, foot_x)\n    hip_angle = beta + alpha\n\n    return hip_angle, knee_angle\n\n# Test the kinematics\nprint("Testing Forward and Inverse Kinematics:")\n\n# Test 1: Forward kinematics\nhip_angle = 0.2  # radians\nknee_angle = 0.8  # radians\nfoot_x, foot_y = forward_kinematics(hip_angle, knee_angle)\nprint(f"Forward: Hip={hip_angle:.2f}, Knee={knee_angle:.2f} -> Foot=({foot_x:.2f}, {foot_y:.2f})")\n\n# Test 2: Inverse kinematics\ntarget_x, target_y = foot_x, foot_y  # Use result from forward kinematics\ncalc_hip, calc_knee = inverse_kinematics(target_x, target_y)\nprint(f"Inverse: Foot=({target_x:.2f}, {target_y:.2f}) -> Hip={calc_hip:.2f}, Knee={calc_knee:.2f}")\n\n# Visualization\nfig, ax = plt.subplots(1, 1, figsize=(10, 6))\n\n# Draw leg at different poses\nangles = np.linspace(0, np.pi/3, 5)\nfor i, angle in enumerate(angles):\n    # Simple walking gait: hip moves forward, knee bends\n    hip_ang = angle\n    knee_ang = angle * 0.8\n\n    foot_x, foot_y = forward_kinematics(hip_ang, knee_ang)\n\n    # Draw the leg\n    ax.plot([0, 0, foot_x], [0, -0.3, foot_y], \'o-\', label=f\'Pose {i+1}\', linewidth=2)\n\nax.set_xlim(-0.5, 0.5)\nax.set_ylim(-0.8, 0.2)\nax.set_aspect(\'equal\')\nax.grid(True)\nax.legend()\nax.set_title(\'Humanoid Leg Poses\')\nax.set_xlabel(\'X (m)\')\nax.set_ylabel(\'Y (m)\')\n\nplt.tight_layout()\nplt.show()\n\nprint("\\nKinematics Exercise Complete!")\nprint("This demonstrates how joint angles affect foot position in humanoid robots.")\n'})}),"\n",(0,l.jsx)(e.h3,{id:"discussion-questions",children:"Discussion Questions"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"How does the URDF model affect the robot's ability to walk?"}),"\n",(0,l.jsx)(e.li,{children:"What are the trade-offs between detailed and simplified URDF models?"}),"\n",(0,l.jsx)(e.li,{children:"How would you extend this model to include arms and more complex joints?"}),"\n",(0,l.jsx)(e.li,{children:"What are the limitations of using fixed joint limits in dynamic environments?"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"extension-activities",children:"Extension Activities"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Create a complete humanoid model with arms using the same principles"}),"\n",(0,l.jsx)(e.li,{children:"Implement a simple walking gait controller using the URDF model"}),"\n",(0,l.jsx)(e.li,{children:"Add sensors (IMU, cameras) to the URDF model"}),"\n",(0,l.jsx)(e.li,{children:"Export the URDF to a format compatible with physics simulators like Gazebo"}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>o,x:()=>a});var r=i(6540);const l={},t=r.createContext(l);function o(n){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);