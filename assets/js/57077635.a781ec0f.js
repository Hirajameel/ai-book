"use strict";(globalThis.webpackChunkfrontend_docu=globalThis.webpackChunkfrontend_docu||[]).push([[8395],{2854(n,e,i){i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"module-1-robotic-nervous-system/validation-scripts","title":"Validation Scripts for Module 1","description":"This document provides validation scripts to verify the examples and code provided in Module 1.","source":"@site/docs/module-1-robotic-nervous-system/validation-scripts.md","sourceDirName":"module-1-robotic-nervous-system","slug":"/module-1-robotic-nervous-system/validation-scripts","permalink":"/ai-book/docs/module-1-robotic-nervous-system/validation-scripts","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-robotic-nervous-system/validation-scripts.md","tags":[],"version":"current","frontMatter":{}}');var s=i(4848),l=i(8453);const r={},a="Validation Scripts for Module 1",o={},d=[{value:"1. Code Example Validation Script",id:"1-code-example-validation-script",level:2},{value:"2. URDF Validation Script",id:"2-urdf-validation-script",level:2},{value:"3. Cross-link Validation Script",id:"3-cross-link-validation-script",level:2},{value:"4. Readability Check Script",id:"4-readability-check-script",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"validation-scripts-for-module-1",children:"Validation Scripts for Module 1"})}),"\n",(0,s.jsx)(e.p,{children:"This document provides validation scripts to verify the examples and code provided in Module 1."}),"\n",(0,s.jsx)(e.h2,{id:"1-code-example-validation-script",children:"1. Code Example Validation Script"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# validate_examples.sh - Script to validate ROS 2 code examples\n\necho "Validating ROS 2 Humble examples for Module 1..."\n\n# Check if ROS 2 Humble is sourced\nif [ -z "$ROS_DISTRO" ] || [ "$ROS_DISTRO" != "humble" ]; then\n    echo "Error: ROS 2 Humble is not sourced. Please source /opt/ros/humble/setup.bash"\n    exit 1\nfi\n\necho "\u2713 ROS 2 Humble environment detected"\n\n# Check essential ROS 2 packages\necho "Checking essential packages..."\nif ! command -v colcon &> /dev/null; then\n    echo "Error: colcon is not installed"\n    exit 1\nfi\n\nif ! command -v check_urdf &> /dev/null; then\n    echo "Error: check_urdf is not installed (ros-humble-urdf-tutorial package needed)"\n    exit 1\nfi\n\necho "\u2713 Essential packages are available"\n\n# Create a test workspace to validate examples\nTEST_WS="$HOME/module1_test_ws"\necho "Creating test workspace at $TEST_WS..."\n\nmkdir -p $TEST_WS/src\ncd $TEST_WS\n\n# Create a test package\ncd src\nros2 pkg create --build-type ament_python test_module1_examples\ncd test_module1_examples/test_module1_examples\n\n# Create example files from the module\ncat > minimal_publisher.py << \'EOF\'\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__(\'minimal_publisher\')\n        self.publisher_ = self.create_publisher(String, \'topic\', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = \'Hello World: %d\' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info(\'Publishing: "%s"\' % msg.data)\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == \'__main__\':\n    main()\nEOF\n\ncat > minimal_subscriber.py << \'EOF\'\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__(\'minimal_subscriber\')\n        self.subscription = self.create_subscription(\n            String,\n            \'topic\',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(\'I heard: "%s"\' % msg.data)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == \'__main__\':\n    main()\nEOF\n\necho "\u2713 Created example files for validation"\n\n# Go back to workspace root and build\ncd $TEST_WS\ncolcon build --packages-select test_module1_examples\n\nif [ $? -eq 0 ]; then\n    echo "\u2713 Code examples build successfully"\nelse\n    echo "\u2717 Code examples failed to build"\n    exit 1\nfi\n\necho "\u2713 All code examples validated successfully"\n'})}),"\n",(0,s.jsx)(e.h2,{id:"2-urdf-validation-script",children:"2. URDF Validation Script"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\n"""\nURDF Validation Script for Module 1\nValidates URDF files according to the examples in Chapter 5\n"""\n\nimport subprocess\nimport sys\nimport os\nimport xml.etree.ElementTree as ET\n\ndef validate_urdf_file(urdf_path):\n    """Validate a URDF file using ROS 2 tools"""\n    if not os.path.exists(urdf_path):\n        print(f"Error: URDF file {urdf_path} does not exist")\n        return False\n\n    try:\n        # Check URDF syntax\n        print(f"Validating URDF file: {urdf_path}")\n        result = subprocess.run([\'check_urdf\', urdf_path],\n                              capture_output=True, text=True)\n        if result.returncode != 0:\n            print(f"URDF validation failed: {result.stderr}")\n            return False\n        else:\n            print("\u2713 URDF syntax is valid")\n            return True\n    except FileNotFoundError:\n        print("Error: check_urdf command not found. Is ROS 2 installed?")\n        return False\n    except Exception as e:\n        print(f"Error validating URDF: {e}")\n        return False\n\ndef validate_humanoid_urdf(urdf_path):\n    """Comprehensive validation for humanoid URDF files"""\n    print(f"Validating humanoid URDF: {urdf_path}")\n\n    # 1. Basic syntax validation\n    print("\\n1. Checking URDF syntax...")\n    if not validate_urdf_file(urdf_path):\n        return False\n\n    # 2. Parse XML structure\n    print("\\n2. Analyzing URDF structure...")\n    try:\n        tree = ET.parse(urdf_path)\n        root = tree.getroot()\n\n        # Check for robot name\n        robot_name = root.get(\'name\')\n        if not robot_name:\n            print("\u2717 Missing robot name")\n            return False\n        print(f"\u2713 Robot name: {robot_name}")\n\n        # Find all links and joints\n        links = root.findall(\'.//link\')\n        joints = root.findall(\'.//joint\')\n\n        print(f"\u2713 Found {len(links)} links and {len(joints)} joints")\n\n        # Check for essential humanoid components\n        link_names = [link.get(\'name\').lower() for link in links]\n        joint_names = [joint.get(\'name\').lower() for joint in joints]\n\n        essential_checks = [\n            (\'torso\', any(\'torso\' in name or \'base\' in name for name in link_names)),\n            (\'head\', any(\'head\' in name for name in link_names)),\n            (\'left leg\', any(\'left\' in name and (\'hip\' in name or \'leg\' in name) for name in joint_names)),\n            (\'right leg\', any(\'right\' in name and (\'hip\' in name or \'leg\' in name) for name in joint_names)),\n            (\'left foot\', any(\'left\' in name and \'foot\' in name for name in link_names)),\n            (\'right foot\', any(\'right\' in name and \'foot\' in name for name in link_names)),\n        ]\n\n        print("\\n3. Essential humanoid components:")\n        all_present = True\n        for component, present in essential_checks:\n            status = "\u2713" if present else "\u2717"\n            print(f"  {status} {component}: {\'Present\' if present else \'Missing\'}")\n            if not present:\n                all_present = False\n\n        if not all_present:\n            print("\u2717 Some essential humanoid components are missing")\n            return False\n\n        # Check joint limits validity\n        print("\\n4. Validating joint limits...")\n        joints_with_issues = []\n\n        for joint in joints:\n            joint_type = joint.get(\'type\')\n            if joint_type in [\'revolute\', \'prismatic\']:  # These have limits\n                limit_elem = joint.find(\'limit\')\n                if limit_elem is not None:\n                    lower = float(limit_elem.get(\'lower\', 0))\n                    upper = float(limit_elem.get(\'upper\', 0))\n\n                    if lower > upper:\n                        joints_with_issues.append(f"{joint.get(\'name\')}: lower({lower}) > upper({upper})")\n\n        if joints_with_issues:\n            print("\u2717 Joint limit issues found:")\n            for issue in joints_with_issues:\n                print(f"    - {issue}")\n            return False\n        else:\n            print("\u2713 All joint limits are valid")\n\n        # Check mass properties\n        print("\\n5. Validating mass properties...")\n        links_with_issues = []\n\n        for link in links:\n            inertial = link.find(\'inertial\')\n            if inertial is not None:\n                mass_elem = inertial.find(\'mass\')\n                if mass_elem is not None:\n                    mass = float(mass_elem.get(\'value\', 0))\n                    if mass <= 0:\n                        links_with_issues.append(f"{link.get(\'name\')}: mass must be positive")\n\n        if links_with_issues:\n            print("\u2717 Mass property issues found:")\n            for issue in links_with_issues:\n                print(f"    - {issue}")\n            return False\n        else:\n            print("\u2713 All mass properties are valid")\n\n        print("\\n\u2713 All validations passed! URDF is ready for humanoid robot applications.")\n        return True\n\n    except ET.ParseError as e:\n        print(f"\u2717 XML parsing error: {e}")\n        return False\n    except Exception as e:\n        print(f"\u2717 Validation error: {e}")\n        return False\n\ndef main():\n    if len(sys.argv) != 2:\n        print("Usage: python3 validate_humanoid_urdf.py <urdf_file>")\n        print("   or: python3 validate_humanoid_urdf.py --example")\n        if len(sys.argv) == 1:\n            print("\\nValidating the example humanoid URDF from Chapter 5...")\n            # Create a simple example URDF for validation\n            example_urdf = "example_humanoid.urdf"\n            with open(example_urdf, \'w\') as f:\n                f.write(\'\'\'<?xml version="1.0"?>\n<robot name="example_humanoid">\n  <link name="base_link">\n    <inertial>\n      <mass value="10.0"/>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <inertia ixx="0.3" ixy="0.0" ixz="0.0" iyy="0.3" iyz="0.0" izz="0.1"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n    </visual>\n    <collision>\n      <origin xyz="0 0 0.2" rpy="0 0 0"/>\n      <geometry>\n        <box size="0.3 0.2 0.4"/>\n      </geometry>\n    </collision>\n  </link>\n\n  <link name="head">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n    </inertial>\n    <visual>\n      <origin xyz="0 0 0" rpy="0 0 0"/>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </visual>\n  </link>\n\n  <joint name="head_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <origin xyz="0.0 0.0 0.4" rpy="0 0 0"/>\n  </joint>\n\n  <link name="left_hip">\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  <joint name="left_hip_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="left_hip"/>\n    <origin xyz="0.0 -0.05 0.0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.5" upper="0.5" effort="200" velocity="1"/>\n  </joint>\n</robot>\'\'\')\n            success = validate_humanoid_urdf(example_urdf)\n            os.remove(example_urdf)  # Clean up\n            return success\n        return False\n\n    urdf_file = sys.argv[1]\n    if not os.path.exists(urdf_file):\n        print(f"Error: File {urdf_file} does not exist")\n        return False\n\n    success = validate_humanoid_urdf(urdf_file)\n    return success\n\nif __name__ == "__main__":\n    success = main()\n    sys.exit(0 if success else 1)\n'})}),"\n",(0,s.jsx)(e.h2,{id:"3-cross-link-validation-script",children:"3. Cross-link Validation Script"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# validate_cross_links.sh - Check internal links in Module 1 documentation\n\necho "Validating cross-links in Module 1 documentation..."\n\nDOCS_DIR="frontend-docu/docs/module-1-robotic-nervous-system"\n\n# Check if the directory exists\nif [ ! -d "$DOCS_DIR" ]; then\n    echo "Error: Module 1 documentation directory not found at $DOCS_DIR"\n    exit 1\nfi\n\necho "Checking for broken internal links..."\n\n# Find all markdown files in the module\nfind "$DOCS_DIR" -name "*.md" -type f | while read -r file; do\n    # Extract links from the file\n    grep -oE \'\\[.*\\]\\(([^)]+)\\)\' "$file" | grep -oE \'\\(([^)]+)\\)\' | sed \'s/[()]//g\' | while read -r link; do\n        # Skip external links and anchors\n        if [[ $link =~ ^https?:// ]] || [[ $link =~ ^# ]] || [[ $link =~ ^mailto: ]]; then\n            continue\n        fi\n\n        # Convert relative links to absolute paths\n        if [[ $link =~ ^\\.\\. ]]; then\n            # Relative link from the file\'s directory\n            dir=$(dirname "$file")\n            abs_link="$dir/$link"\n        elif [[ $link =~ ^/ ]]; then\n            # Absolute link in docs directory\n            abs_link="../..$link"\n        else\n            # Relative link in same directory\n            dir=$(dirname "$file")\n            abs_link="$dir/$link"\n        fi\n\n        # Remove anchors from the path\n        clean_link=$(echo "$abs_link" | sed \'s/#.*//\')\n\n        # Check if the file exists\n        if [ ! -f "$clean_link" ]; then\n            echo "\u2717 Broken link in $file: $link -> $clean_link does not exist"\n        else\n            echo "\u2713 Valid link in $file: $link"\n        fi\n    done\ndone\n\necho "Cross-link validation complete."\n'})}),"\n",(0,s.jsx)(e.h2,{id:"4-readability-check-script",children:"4. Readability Check Script"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python3\n\"\"\"\nReadability Analysis Script\nChecks if the documentation meets Grade 10-12 reading level requirement\n\"\"\"\n\nimport os\nimport re\nfrom collections import Counter\n\ndef count_syllables(word):\n    \"\"\"Count syllables in a word\"\"\"\n    word = word.lower()\n    vowels = \"aeiouy\"\n    syllable_count = 0\n    prev_was_vowel = False\n\n    for i, letter in enumerate(word):\n        is_vowel = letter in vowels\n        if is_vowel and not prev_was_vowel:\n            syllable_count += 1\n        prev_was_vowel = is_vowel\n\n    # Handle silent 'e' at the end\n    if word.endswith('e') and syllable_count > 1:\n        syllable_count -= 1\n\n    # Handle words that end with 'ed' but are pronounced as separate syllable\n    if word.endswith('ed') and not word.endswith(('ted', 'ded')):\n        syllable_count -= 1\n\n    return max(1, syllable_count)\n\ndef flesch_reading_ease(total_words, total_sentences, total_syllables):\n    \"\"\"Calculate Flesch Reading Ease score\"\"\"\n    if total_words == 0 or total_sentences == 0:\n        return 0\n\n    score = 206.835 - (1.015 * (total_words / total_sentences)) - (84.6 * (total_syllables / total_words))\n    return score\n\ndef flesch_kincaid_grade_level(total_words, total_sentences, total_syllables):\n    \"\"\"Calculate Flesch-Kincaid Grade Level\"\"\"\n    if total_words == 0 or total_sentences == 0:\n        return 0\n\n    grade_level = (0.39 * (total_words / total_sentences)) + (11.8 * (total_syllables / total_words)) - 15.59\n    return grade_level\n\ndef analyze_readability(text):\n    \"\"\"Analyze readability of text\"\"\"\n    # Split text into sentences\n    sentences = re.split(r'[.!?]+', text)\n    sentences = [s.strip() for s in sentences if s.strip()]\n\n    # Split text into words\n    words = re.findall(r'\\b\\w+\\b', text.lower())\n    words = [w for w in words if w]\n\n    # Count syllables\n    syllables = [count_syllables(word) for word in words]\n    total_syllables = sum(syllables)\n\n    # Calculate metrics\n    total_words = len(words)\n    total_sentences = len(sentences)\n    total_syllables = sum(syllables)\n\n    # Calculate readability scores\n    ease_score = flesch_reading_ease(total_words, total_sentences, total_syllables)\n    grade_level = flesch_kincaid_grade_level(total_words, total_sentences, total_syllables)\n\n    return {\n        'total_words': total_words,\n        'total_sentences': total_sentences,\n        'total_syllables': total_syllables,\n        'flesch_reading_ease': ease_score,\n        'flesch_kincaid_grade': grade_level\n    }\n\ndef analyze_module_readability():\n    \"\"\"Analyze readability of Module 1 documentation\"\"\"\n    docs_dir = \"frontend-docu/docs/module-1-robotic-nervous-system\"\n\n    if not os.path.exists(docs_dir):\n        print(f\"Error: Directory {docs_dir} does not exist\")\n        return False\n\n    all_text = \"\"\n\n    # Read all markdown files in the module\n    for filename in os.listdir(docs_dir):\n        if filename.endswith('.md'):\n            filepath = os.path.join(docs_dir, filename)\n            with open(filepath, 'r', encoding='utf-8') as f:\n                content = f.read()\n                # Remove markdown syntax for readability analysis\n                content = re.sub(r'```.*?```', '', content, flags=re.DOTALL)  # Remove code blocks\n                content = re.sub(r'`[^`]*`', '', content)  # Remove inline code\n                content = re.sub(r'^#+\\s.*$', '', content, flags=re.MULTILINE)  # Remove headings\n                content = re.sub(r'\\[([^\\]]+)\\]\\([^)]+\\)', r'\\1', content)  # Remove links, keep text\n                content = re.sub(r'\\*\\*([^*]+)\\*\\*', r'\\1', content)  # Remove bold\n                content = re.sub(r'\\*([^*]+)\\*', r'\\1', content)  # Remove italic\n                content = re.sub(r'^\\s*[-*+]\\s+', '', content, flags=re.MULTILINE)  # Remove list markers\n                all_text += \" \" + content\n\n    if not all_text.strip():\n        print(\"Error: No readable text found in Module 1 documentation\")\n        return False\n\n    # Analyze readability\n    results = analyze_readability(all_text)\n\n    print(f\"Readability Analysis for Module 1:\")\n    print(f\"  Total Words: {results['total_words']}\")\n    print(f\"  Total Sentences: {results['total_sentences']}\")\n    print(f\"  Total Syllables: {results['total_syllables']}\")\n    print(f\"  Flesch Reading Ease: {results['flesch_reading_ease']:.2f}\")\n    print(f\"  Flesch-Kincaid Grade Level: {results['flesch_kincaid_grade']:.2f}\")\n\n    # Check if grade level is within target range (10-12)\n    grade_level = results['flesch_kincaid_grade']\n    if 10 <= grade_level <= 12:\n        print(f\"  \u2713 Grade level {grade_level:.2f} is within target range (10-12)\")\n        return True\n    else:\n        print(f\"  \u2717 Grade level {grade_level:.2f} is outside target range (10-12)\")\n        return False\n\nif __name__ == \"__main__\":\n    success = analyze_module_readability()\n    exit(0 if success else 1)\n"})}),"\n",(0,s.jsx)(e.p,{children:"These validation scripts help ensure that all code examples, URDF files, cross-links, and readability requirements are met for Module 1."})]})}function u(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453(n,e,i){i.d(e,{R:()=>r,x:()=>a});var t=i(6540);const s={},l=t.createContext(s);function r(n){const e=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);